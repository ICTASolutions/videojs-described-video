<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>VideoJS Described Video by ICTASolutions</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script>
      document.createElement('video');
      (function() {
        if (!Event.prototype.preventDefault) {
          Event.prototype.preventDefault=function() {
            this.returnValue=false;
          };
        }
        if (!Event.prototype.stopPropagation) {
          Event.prototype.stopPropagation=function() {
            this.cancelBubble=true;
          };
        }
        if (!Element.prototype.addEventListener) {
          var eventListeners=[];

          var addEventListener=function(type,listener /*, useCapture (will be ignored) */) {
            var self=this;
            var wrapper=function(e) {
              e.target=e.srcElement;
              e.currentTarget=self;
              if (listener.handleEvent) {
                listener.handleEvent(e);
              } else {
                listener.call(self,e);
              }
            };
            if (type=="DOMContentLoaded") {
              var wrapper2=function(e) {
                if (document.readyState=="complete") {
                  wrapper(e);
                }
              };
              document.attachEvent("onreadystatechange",wrapper2);
              eventListeners.push({object:this,type:type,listener:listener,wrapper:wrapper2});

              if (document.readyState=="complete") {
                var e=new Event();
                e.srcElement=window;
                wrapper2(e);
              }
            } else {
              this.attachEvent("on"+type,wrapper);
              eventListeners.push({object:this,type:type,listener:listener,wrapper:wrapper});
            }
          };
          var removeEventListener=function(type,listener /*, useCapture (will be ignored) */) {
            var counter=0;
            while (counter<eventListeners.length) {
              var eventListener=eventListeners[counter];
              if (eventListener.object==this && eventListener.type==type && eventListener.listener==listener) {
                if (type=="DOMContentLoaded") {
                  this.detachEvent("onreadystatechange",eventListener.wrapper);
                } else {
                  this.detachEvent("on"+type,eventListener.wrapper);
                }
                eventListeners.splice(counter, 1);
                break;
              }
              ++counter;
            }
          };
          Element.prototype.addEventListener=addEventListener;
          Element.prototype.removeEventListener=removeEventListener;
          if (HTMLDocument) {
            HTMLDocument.prototype.addEventListener=addEventListener;
            HTMLDocument.prototype.removeEventListener=removeEventListener;
          }
          if (Window) {
            Window.prototype.addEventListener=addEventListener;
            Window.prototype.removeEventListener=removeEventListener;
          }
        }
      })();
    </script>
    <link rel='stylesheet' href='node_modules/video.js/dist/video-js/video-js.css'></script>
    <script src='node_modules/video.js/dist/video-js/video.dev.js'></script>
    <script src="node_modules/es5-shim/es5-shim.js"></script>
    <script src="node_modules/videojs-youtube/dist/vjs.youtube.js"></script>

    <!-- include the describedVideo plugin -->
    <link rel='stylesheet' href='src/described-video-button.css'></script>
    <script src='dist/bundle.js'></script>

    <style>
      button {
        margin: 1em;
        width: 10em;
      }
    </style>

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>VideoJS Described Video</h1>
        <p>Described Video plugin for videojs</p>
        <p class="view"><a href="https://github.com/ICTASolutions/videojs-described-video">View the Project on GitHub <small>ICTASolutions/videojs-described-video</small></a></p>
        <ul>
          <li><a href="https://github.com/ICTASolutions/videojs-described-video/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ICTASolutions/videojs-described-video/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ICTASolutions/videojs-described-video">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="described-video-plugin-for-videojs" class="anchor" href="#described-video-plugin-for-videojs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Described Video plugin for videojs</h1>

<p>Add a button to Video.js to allow switching between two different versions of a video: the original and one with 'audio descripton' (additional narration added into the soundtrack to assist understanding of the video, especially by people who are blind or low-vision).</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<div class="highlight highlight-js"><pre><span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>videojs-described-video<span class="pl-pds">'</span></span>);

<span class="pl-k">var</span> player <span class="pl-k">=</span> videojs(<span class="pl-s"><span class="pl-pds">'</span>video<span class="pl-pds">'</span></span>);
player.describedVideo([{
  sources<span class="pl-k">:</span> [{
    src<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>http://media.w3.org/2010/05/sintel/trailer.mp4<span class="pl-pds">'</span></span>,
    type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>video/mp4<span class="pl-pds">'</span></span>
  }],
  poster<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>http://media.w3.org/2010/05/sintel/poster.png<span class="pl-pds">'</span></span>
}, {
  sources<span class="pl-k">:</span> [{
    src<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>http://media.w3.org/2010/05/bunny/trailer.mp4<span class="pl-pds">'</span></span>,
    type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>video/mp4<span class="pl-pds">'</span></span>
  }],
  poster<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>http://media.w3.org/2010/05/bunny/poster.png<span class="pl-pds">'</span></span>
}]);

player.describedVideo.described();</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h2>

<video class="video-js vjs-default-skin" controls width='640px' height='360px'></video>
<button class="original">Original</button>
<button class="described">Described</button>

<br>

<video class="video-js vjs-default-skin" controls width='640px' height='360px'></video>
<button class="original">Original</button>
<button class="described">Described</button>


<h2>
<a id="acknowledgement" class="anchor" href="#acknowledgement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acknowledgement</h2>

<p>This plugin is based on the <a href="https://github.com/brightcove/videojs-playlist">playlist plugin</a> from Brighcove.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a><a href="https://github.com/ICTASolutions/videojs-described-video/blob/master/LICENSE.md">LICENSE</a>
</h2>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/ICTASolutions">ICTASolutions</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->

    <script>
    //NOTE: This first example isn't actually a described version of the original video!
    var describedVideoInfoMP4 = [{
      // First is the original (default) set of sources
      sources: [{
        src: 'http://media.w3.org/2010/05/sintel/trailer.mp4',
        type: 'video/mp4'
      }],
      poster: 'http://media.w3.org/2010/05/sintel/poster.png'
    }, {
      // Second is the alternate (described video) set of sources
      sources: [{
        src: 'http://media.w3.org/2010/05/bunny/trailer.mp4',
        type: 'video/mp4'
      }],
      poster: 'http://media.w3.org/2010/05/bunny/poster.png'
    }];

    // This really *is* a described version of the video!
    var describedVideoInfoYouTube = [{
      // First is the original (default) set of sources
      sources: [{
        src: 'http://www.youtube.com/watch?v=OOgrSvnmhrY',
        type: 'video/youtube'
      }],
    }, {
      // Second is the alternate (described video) set of sources
      sources: [{
        src: 'http://www.youtube.com/watch?v=949D1IhKKYs',
        type: 'video/youtube'
      }],
    }];

    var video = document.querySelectorAll('video');

    var player = [];

    player[0] = videojs(video[0], {
      inactivityTimeout: 0
    });

    player[1] = videojs(video[1], {
      techOrder: ["youtube"],
      inactivityTimeout: 0
    });

    player[0].describedVideo(describedVideoInfoMP4);

    player[1].describedVideo(describedVideoInfoYouTube);

    var original = document.querySelectorAll('.original');
    original[0].addEventListener('click', function() {
      player[0].describedVideo.original();
    });
    original[1].addEventListener('click', function() {
      player[1].describedVideo.original();
    });

    var original = document.querySelectorAll('.described');
    original[0].addEventListener('click', function() {
      player[0].describedVideo.described();
    });
    original[1].addEventListener('click', function() {
      player[1].describedVideo.described();
    });
    </script>
  </body>
</html>
